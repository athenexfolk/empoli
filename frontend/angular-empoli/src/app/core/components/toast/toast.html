<div class="fixed top-4 z-999 max-sm:inset-x-4 sm:right-4 sm:w-64">
  @for (toast of toastService.toasts(); track toast.date) {
    <div
      [@toastAnim]
      class="absolute left-0 w-full rounded border border-stone-200 bg-white/80 p-4 text-sm shadow-lg backdrop-blur transition-all"
      [style.top]="(toastService.toasts().length - 1 - $index) * 0.75 + 'rem'"
      [style.zIndex]="100 + $index"
      [style.transform]="
        'scale(' +
        (toastService.toasts().length === 1
          ? 1
          : 0.9 + (0.1 * $index) / (toastService.toasts().length - 1)) +
        ')'
      "
    >
      <div class="flex justify-start gap-2">
        <icon [name]="toast.type === 'error' ? 'cancel' : toast.type === 'success' ? 'check_circle' : toast.type === 'warning' ? 'error' : 'info_i'" />
        <div class="flex flex-col gap-1">
          <h6 class="font-bold">{{ toast.title }}</h6>
          <p>{{ toast.message }}</p>
        </div>
      </div>
    </div>
  }
</div>
